<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net9.0-ios</TargetFramework>
    <OutputType>Exe</OutputType>

    <RootNamespace>GltronMobileGame</RootNamespace>
    <AssemblyName>GltronMobileGame.iOS</AssemblyName>

    <!-- iOS app metadata -->
    <RuntimeIdentifier>ios-arm64</RuntimeIdentifier>
    <SupportedOSPlatformVersion>11.0</SupportedOSPlatformVersion>
    <ApplicationId>gltron.org.gltronmobile.ios</ApplicationId>
    <ApplicationDisplayVersion>1.0</ApplicationDisplayVersion>
    <ApplicationVersion>1</ApplicationVersion>

    <!-- FNA Configuration -->
    <DefineConstants>$(DefineConstants);FNA</DefineConstants>
  </PropertyGroup>

  <!-- FNA source files -->
  <ItemGroup>
    <Compile Include="..\GltronMobileGame\FNA\src\**\*.cs" />
  </ItemGroup>

  <!-- Shared Engine -->
  <ItemGroup>
    <ProjectReference Include="..\GltronMobileEngine\GltronMobileEngine.csproj" />
  </ItemGroup>

  <!-- Share all .cs of the game -->
  <ItemGroup>
    <Compile Include="..\GltronMobileGame\**\*.cs" Link="%(RecursiveDir)%(Filename)%(Extension)" />
  </ItemGroup>

  <!-- FNA Content (raw files, not XNBs) -->
  <ItemGroup>
    <BundleResource Include="..\GltronMobileGame\Content\**\*.*"
                    Link="Content\%(RecursiveDir)%(Filename)%(Extension)" />
  </ItemGroup>

  <!-- FNA iOS Native Frameworks -->
  <ItemGroup>
    <NativeReference Include="Frameworks\SDL2.framework">
      <Kind>Framework</Kind>
      <Frameworks>SDL2</Frameworks>
    </NativeReference>
    <NativeReference Include="Frameworks\OpenAL.framework">
      <Kind>Framework</Kind>
      <Frameworks>OpenAL</Frameworks>
    </NativeReference>
    <NativeReference Include="Frameworks\Theoraplay.framework">
      <Kind>Framework</Kind>
      <Frameworks>Theoraplay</Frameworks>
    </NativeReference>
  </ItemGroup>

</Project>
